
<!DOCTYPE html>
<html>
  <head>
	<!--<meta http-equiv="cache-control" content="no-cache" />
	<meta http-equiv="pragma" content="no-cache" />
	<meta http-equiv="expires" content="0" />-->
	<title>Tutorial: introduction to D3</title>
	<script type="text/javascript" src="../../lib/d3/d3.js"></script>     
	<script type="text/javascript" src="js_likelihood.dat"></script>                 
	
	<style type="text/css">
		path {
		    stroke: black;
		    stroke-width: 3;
		    fill: none;
		} 
		
		circle{
		 fill: red;
		}

		line {
		    stroke: black;
		}

		text {
		    font-family: Arial;
		    font-size: 9pt;
		} 
		
	   body {
			margin:40px; 
			padding:40px;
			text-align:center;
	   }
	</style> 
	
  </head>     
		<body>
		<script type="text/javascript">
		
		
		var w = 500,
			h = 300,
			margin = 50,
			y = d3.scale.linear().domain([d3.min(data), d3.max(data)]).range([0 + margin, h - margin]),
			x = d3.scale.linear().domain([0, data.length]).range([0	 + margin + 40, w - margin]),
			nticks = 10
                                 
			var vis = d3.select("body")
			    .append("svg:svg")
			    .attr("width", w)
			    .attr("height", h)

			var g = vis.append("svg:g")
			    .attr("transform", "translate(0," + (h+20) + ")") 
			
			var line = d3.svg.line()
			    .x(function(d,i) { return x(i); })
			    .y(function(d) { return -1 * y(d); })
			
			g.append("svg:path").attr("d", line(data));  
			 
			var miny = y(d3.min(data))
			g.append("svg:line")      // x-axis
			    .attr("x1", x(0))
			    .attr("y1", -1 * miny )
			    .attr("x2", x(data.length-1))
			    .attr("y2", -1 * miny)

			g.append("svg:text")  // x label
				.attr("x", w/2) 
				.attr("y", -1*miny + 30)
				.text("iteration")     
				
			g.append("svg:line")
			    .attr("x1", x(0))
			    .attr("y1", -1 * miny)
			    .attr("x2", x(0))
			    .attr("y2", -1 * y(d3.max(data)))  
			
			g.append("svg:text")  // y label
				.attr("x", 28) 
				.attr("y", -h/2)
				.text("log(likelihood)")
				.attr("transform","rotate(-90, 28," + (-h/2) + ")")        
			
			g.selectAll(".xLabel")
			    .data(x.ticks(nticks))
			    .enter().append("svg:text")
			    .attr("class", "xLabel")
			    .text(String+1)
			    .attr("x", function(d) { return x(d) })
			    .attr("y", -1*miny + 15)
			    .attr("text-anchor", "middle") 

			g.selectAll(".yLabel")
			    .data(y.ticks(nticks))
			    .enter().append("svg:text")
			    .attr("class", "yLabel")
			    .text(String)
			    .attr("x", x(0) - 50)
			    .attr("y", function(d) { return -1 * y(d) })
			    .attr("text-anchor", "right")
			    .attr("dy", 4)
				.attr("dx", 0)  
				
			
			g.selectAll(".xTicks")
			    .data(x.ticks(nticks))
			    .enter().append("svg:line")
			    .attr("class", "xTicks")
			    .attr("x1", function(d) { return x(d); })
			    .attr("y1", -1*	miny)
			    .attr("x2", function(d) { return x(d); })
			    .attr("y2", -1*	miny+4)

			g.selectAll(".yTicks")
			    .data(y.ticks(nticks))
			    .enter().append("svg:line")
			    .attr("class", "yTicks")
			    .attr("y1", function(d) { return -1 * y(d); })
			    .attr("x1", x(0) - 4)
			    .attr("y2", function(d) { return -1 * y(d); })
			    .attr("x2", x(0))   
			                         
	  		g.selectAll("circle.line") 
				.data(data)  
			  	.enter().append("circle")
			    .attr("class", "line")
			    .attr("cx", function(d,i) { return x(i); })
			    .attr("cy", function(d) { return -1 * y(d); })
			    .attr("r", 2.5);  
		    
			     
		</script>
		</body>  
</html>